<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>《Node.js实战：使用Egg.js+Vue.js+Docker构建渐进式、可持续集成与交付应用》 | 灰熊の博客</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/flower.ico">
    <meta name="description" content="进击的全栈Coder">
    
    <link rel="preload" href="/assets/css/0.styles.e4d8b86b.css" as="style"><link rel="preload" href="/assets/js/app.5be59e6d.js" as="script"><link rel="preload" href="/assets/js/2.9b8ab7f9.js" as="script"><link rel="preload" href="/assets/js/37.ffbfd887.js" as="script"><link rel="prefetch" href="/assets/js/10.0cc0fbc4.js"><link rel="prefetch" href="/assets/js/11.5ceb0271.js"><link rel="prefetch" href="/assets/js/12.b0957377.js"><link rel="prefetch" href="/assets/js/13.3860ef69.js"><link rel="prefetch" href="/assets/js/14.c0ad0105.js"><link rel="prefetch" href="/assets/js/15.2708bd90.js"><link rel="prefetch" href="/assets/js/16.61bc46ea.js"><link rel="prefetch" href="/assets/js/17.80d5fd2b.js"><link rel="prefetch" href="/assets/js/18.24b34451.js"><link rel="prefetch" href="/assets/js/19.a6a5c7f3.js"><link rel="prefetch" href="/assets/js/20.bc29734e.js"><link rel="prefetch" href="/assets/js/21.372cf30f.js"><link rel="prefetch" href="/assets/js/22.2bb526bc.js"><link rel="prefetch" href="/assets/js/23.2c6cf222.js"><link rel="prefetch" href="/assets/js/24.7b9f29fc.js"><link rel="prefetch" href="/assets/js/25.cd4e4275.js"><link rel="prefetch" href="/assets/js/26.28554fbe.js"><link rel="prefetch" href="/assets/js/27.069a7872.js"><link rel="prefetch" href="/assets/js/28.021870a3.js"><link rel="prefetch" href="/assets/js/29.3a2ed301.js"><link rel="prefetch" href="/assets/js/3.66297c97.js"><link rel="prefetch" href="/assets/js/30.ced36822.js"><link rel="prefetch" href="/assets/js/31.3cac6451.js"><link rel="prefetch" href="/assets/js/32.57a49a15.js"><link rel="prefetch" href="/assets/js/33.5a0a97f0.js"><link rel="prefetch" href="/assets/js/34.73d9a29a.js"><link rel="prefetch" href="/assets/js/35.d9007735.js"><link rel="prefetch" href="/assets/js/36.bb1d44a2.js"><link rel="prefetch" href="/assets/js/38.38f22f62.js"><link rel="prefetch" href="/assets/js/39.bf740825.js"><link rel="prefetch" href="/assets/js/4.55eb244d.js"><link rel="prefetch" href="/assets/js/40.93994d70.js"><link rel="prefetch" href="/assets/js/41.a28cf76a.js"><link rel="prefetch" href="/assets/js/42.7e9f1055.js"><link rel="prefetch" href="/assets/js/43.44403f17.js"><link rel="prefetch" href="/assets/js/44.6e610e79.js"><link rel="prefetch" href="/assets/js/45.36f736c0.js"><link rel="prefetch" href="/assets/js/46.4c804fc0.js"><link rel="prefetch" href="/assets/js/47.0667717c.js"><link rel="prefetch" href="/assets/js/48.e83b8743.js"><link rel="prefetch" href="/assets/js/49.ceba609e.js"><link rel="prefetch" href="/assets/js/5.7d12f753.js"><link rel="prefetch" href="/assets/js/50.a7ffbd44.js"><link rel="prefetch" href="/assets/js/51.9191de05.js"><link rel="prefetch" href="/assets/js/52.df288a38.js"><link rel="prefetch" href="/assets/js/53.517e274d.js"><link rel="prefetch" href="/assets/js/54.6c1987aa.js"><link rel="prefetch" href="/assets/js/55.fde40f5c.js"><link rel="prefetch" href="/assets/js/56.2da5bda2.js"><link rel="prefetch" href="/assets/js/57.566b4173.js"><link rel="prefetch" href="/assets/js/58.92e8b5dd.js"><link rel="prefetch" href="/assets/js/59.274514da.js"><link rel="prefetch" href="/assets/js/6.44237979.js"><link rel="prefetch" href="/assets/js/60.925087fc.js"><link rel="prefetch" href="/assets/js/61.f7875652.js"><link rel="prefetch" href="/assets/js/62.0663dca9.js"><link rel="prefetch" href="/assets/js/63.8e8b3e99.js"><link rel="prefetch" href="/assets/js/64.6799aa84.js"><link rel="prefetch" href="/assets/js/65.9ffed0c4.js"><link rel="prefetch" href="/assets/js/66.58e13a1a.js"><link rel="prefetch" href="/assets/js/67.5b728462.js"><link rel="prefetch" href="/assets/js/68.fffb4505.js"><link rel="prefetch" href="/assets/js/69.411058b6.js"><link rel="prefetch" href="/assets/js/7.12041889.js"><link rel="prefetch" href="/assets/js/70.316f37fd.js"><link rel="prefetch" href="/assets/js/71.7b1e8e79.js"><link rel="prefetch" href="/assets/js/72.44e79d39.js"><link rel="prefetch" href="/assets/js/73.8eeca473.js"><link rel="prefetch" href="/assets/js/74.0bb53483.js"><link rel="prefetch" href="/assets/js/75.c600e42f.js"><link rel="prefetch" href="/assets/js/76.08c8db66.js"><link rel="prefetch" href="/assets/js/77.5c3f11fa.js"><link rel="prefetch" href="/assets/js/78.bf1850e3.js"><link rel="prefetch" href="/assets/js/79.65f52781.js"><link rel="prefetch" href="/assets/js/8.19fb772b.js"><link rel="prefetch" href="/assets/js/80.346e5607.js"><link rel="prefetch" href="/assets/js/81.fa378849.js"><link rel="prefetch" href="/assets/js/82.917282bb.js"><link rel="prefetch" href="/assets/js/83.ab30e9c6.js"><link rel="prefetch" href="/assets/js/84.ffa19f6c.js"><link rel="prefetch" href="/assets/js/85.75e68c80.js"><link rel="prefetch" href="/assets/js/9.85c18bde.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e4d8b86b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">灰熊の博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link">
  博客
</a></div><div class="nav-item"><a href="/book/" class="nav-link router-link-active">
  阅读
</a></div><div class="nav-item"><a href="https://github.com/huixiongyu/blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link">
  博客
</a></div><div class="nav-item"><a href="/book/" class="nav-link router-link-active">
  阅读
</a></div><div class="nav-item"><a href="https://github.com/huixiongyu/blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/book/" aria-current="page" class="sidebar-link">阅读</a></li><li><a href="/book/plan-and-record.html" class="sidebar-link">阅读统计</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/book/plan-and-record.html#_2021年已读" class="sidebar-link">2021年已读</a></li><li class="sidebar-sub-header"><a href="/book/plan-and-record.html#_2020已读" class="sidebar-link">2020已读</a></li></ul></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>前端相关</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>JavaScript</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/book/JavaScript/04-datastruct-JavaScript-description.html" class="sidebar-link">《数据结构与算法JavaScript描述》</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/book/JavaScript/04-datastruct-JavaScript-description.html#第1章-编程环境和模型" class="sidebar-link">第1章-编程环境和模型</a></li><li class="sidebar-sub-header"><a href="/book/JavaScript/04-datastruct-JavaScript-description.html#第2章-数组" class="sidebar-link">第2章-数组</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/book/JavaScript/04-datastruct-JavaScript-description.html#创建数组" class="sidebar-link">创建数组</a></li><li class="sidebar-sub-header"><a href="/book/JavaScript/04-datastruct-JavaScript-description.html#存取函数" class="sidebar-link">存取函数</a></li><li class="sidebar-sub-header"><a href="/book/JavaScript/04-datastruct-JavaScript-description.html#删除元素" class="sidebar-link">删除元素</a></li><li class="sidebar-sub-header"><a href="/book/JavaScript/04-datastruct-JavaScript-description.html#数组排序" class="sidebar-link">数组排序</a></li><li class="sidebar-sub-header"><a href="/book/JavaScript/04-datastruct-JavaScript-description.html#迭代器方法" class="sidebar-link">迭代器方法</a></li><li class="sidebar-sub-header"><a href="/book/JavaScript/04-datastruct-JavaScript-description.html#生成新数组的迭代器方法" class="sidebar-link">生成新数组的迭代器方法</a></li><li class="sidebar-sub-header"><a href="/book/JavaScript/04-datastruct-JavaScript-description.html#二维和多维数组" class="sidebar-link">二维和多维数组</a></li></ul></li><li class="sidebar-sub-header"><a href="/book/JavaScript/04-datastruct-JavaScript-description.html#第3章-列表" class="sidebar-link">第3章-列表</a></li><li class="sidebar-sub-header"><a href="/book/JavaScript/04-datastruct-JavaScript-description.html#第4章-栈" class="sidebar-link">第4章-栈</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/book/JavaScript/04-datastruct-JavaScript-description.html#stack类" class="sidebar-link">Stack类</a></li><li class="sidebar-sub-header"><a href="/book/JavaScript/04-datastruct-JavaScript-description.html#判断给定字符是否回文" class="sidebar-link">判断给定字符是否回文</a></li><li class="sidebar-sub-header"><a href="/book/JavaScript/04-datastruct-JavaScript-description.html#使用栈模拟递归调用" class="sidebar-link">使用栈模拟递归调用</a></li><li class="sidebar-sub-header"><a href="/book/JavaScript/04-datastruct-JavaScript-description.html#练习" class="sidebar-link">练习</a></li></ul></li><li class="sidebar-sub-header"><a href="/book/JavaScript/04-datastruct-JavaScript-description.html#第5章-队列" class="sidebar-link">第5章-队列</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/book/JavaScript/04-datastruct-JavaScript-description.html#queue类的定义" class="sidebar-link">Queue类的定义</a></li><li class="sidebar-sub-header"><a href="/book/JavaScript/04-datastruct-JavaScript-description.html#舞伴分配问题" class="sidebar-link">舞伴分配问题</a></li></ul></li><li class="sidebar-sub-header"><a href="/book/JavaScript/04-datastruct-JavaScript-description.html#练习-2" class="sidebar-link">练习</a></li><li class="sidebar-sub-header"><a href="/book/JavaScript/04-datastruct-JavaScript-description.html#第6章-链表" class="sidebar-link">第6章-链表</a></li><li class="sidebar-sub-header"><a href="/book/JavaScript/04-datastruct-JavaScript-description.html#node类和linkedlist类" class="sidebar-link">Node类和LinkedList类</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/book/JavaScript/04-datastruct-JavaScript-description.html#双向链表" class="sidebar-link">双向链表</a></li><li class="sidebar-sub-header"><a href="/book/JavaScript/04-datastruct-JavaScript-description.html#循环链表" class="sidebar-link">循环链表</a></li><li class="sidebar-sub-header"><a href="/book/JavaScript/04-datastruct-JavaScript-description.html#练习-3" class="sidebar-link">练习</a></li></ul></li><li class="sidebar-sub-header"><a href="/book/JavaScript/04-datastruct-JavaScript-description.html#第7章-字典" class="sidebar-link">第7章-字典</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/book/JavaScript/04-datastruct-JavaScript-description.html#dictionary类" class="sidebar-link">Dictionary类</a></li></ul></li><li class="sidebar-sub-header"><a href="/book/JavaScript/04-datastruct-JavaScript-description.html#第8章-散列" class="sidebar-link">第8章-散列</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/book/JavaScript/04-datastruct-JavaScript-description.html#hashtable类" class="sidebar-link">HashTable类</a></li><li class="sidebar-sub-header"><a href="/book/JavaScript/04-datastruct-JavaScript-description.html#碰撞处理" class="sidebar-link">碰撞处理</a></li></ul></li><li class="sidebar-sub-header"><a href="/book/JavaScript/04-datastruct-JavaScript-description.html#第9章-集合" class="sidebar-link">第9章-集合</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/book/JavaScript/04-datastruct-JavaScript-description.html#set类的实现" class="sidebar-link">Set类的实现</a></li><li class="sidebar-sub-header"><a href="/book/JavaScript/04-datastruct-JavaScript-description.html#更多集合操作" class="sidebar-link">更多集合操作</a></li></ul></li><li class="sidebar-sub-header"><a href="/book/JavaScript/04-datastruct-JavaScript-description.html#练习-4" class="sidebar-link">练习</a></li><li class="sidebar-sub-header"><a href="/book/JavaScript/04-datastruct-JavaScript-description.html#第10章-二叉树和二叉查找树" class="sidebar-link">第10章-二叉树和二叉查找树</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/book/JavaScript/04-datastruct-JavaScript-description.html#实现二叉查找树" class="sidebar-link">实现二叉查找树</a></li><li class="sidebar-sub-header"><a href="/book/JavaScript/04-datastruct-JavaScript-description.html#在二叉树上进行查找" class="sidebar-link">在二叉树上进行查找</a></li><li class="sidebar-sub-header"><a href="/book/JavaScript/04-datastruct-JavaScript-description.html#从二叉查找树上删除节点" class="sidebar-link">从二叉查找树上删除节点</a></li><li class="sidebar-sub-header"><a href="/book/JavaScript/04-datastruct-JavaScript-description.html#练习-5" class="sidebar-link">练习</a></li></ul></li><li class="sidebar-sub-header"><a href="/book/JavaScript/04-datastruct-JavaScript-description.html#第11章-图和图算法" class="sidebar-link">第11章-图和图算法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/book/JavaScript/04-datastruct-JavaScript-description.html#构建图" class="sidebar-link">构建图</a></li><li class="sidebar-sub-header"><a href="/book/JavaScript/04-datastruct-JavaScript-description.html#搜索图" class="sidebar-link">搜索图</a></li><li class="sidebar-sub-header"><a href="/book/JavaScript/04-datastruct-JavaScript-description.html#查找最短路径" class="sidebar-link">查找最短路径</a></li><li class="sidebar-sub-header"><a href="/book/JavaScript/04-datastruct-JavaScript-description.html#拓扑排序" class="sidebar-link">拓扑排序</a></li><li class="sidebar-sub-header"><a href="/book/JavaScript/04-datastruct-JavaScript-description.html#练习-6" class="sidebar-link">练习</a></li></ul></li><li class="sidebar-sub-header"><a href="/book/JavaScript/04-datastruct-JavaScript-description.html#第12章-排序算法" class="sidebar-link">第12章-排序算法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/book/JavaScript/04-datastruct-JavaScript-description.html#数组测试平台" class="sidebar-link">数组测试平台</a></li><li class="sidebar-sub-header"><a href="/book/JavaScript/04-datastruct-JavaScript-description.html#冒泡排序" class="sidebar-link">冒泡排序</a></li><li class="sidebar-sub-header"><a href="/book/JavaScript/04-datastruct-JavaScript-description.html#选择排序" class="sidebar-link">选择排序</a></li><li class="sidebar-sub-header"><a href="/book/JavaScript/04-datastruct-JavaScript-description.html#插入排序" class="sidebar-link">插入排序</a></li><li class="sidebar-sub-header"><a href="/book/JavaScript/04-datastruct-JavaScript-description.html#希尔排序" class="sidebar-link">希尔排序</a></li><li class="sidebar-sub-header"><a href="/book/JavaScript/04-datastruct-JavaScript-description.html#归并排序" class="sidebar-link">归并排序</a></li><li class="sidebar-sub-header"><a href="/book/JavaScript/04-datastruct-JavaScript-description.html#快速排序" class="sidebar-link">快速排序</a></li></ul></li><li class="sidebar-sub-header"><a href="/book/JavaScript/04-datastruct-JavaScript-description.html#第13章-检索算法" class="sidebar-link">第13章-检索算法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/book/JavaScript/04-datastruct-JavaScript-description.html#顺序查找" class="sidebar-link">顺序查找</a></li><li class="sidebar-sub-header"><a href="/book/JavaScript/04-datastruct-JavaScript-description.html#二分查找算法" class="sidebar-link">二分查找算法</a></li></ul></li><li class="sidebar-sub-header"><a href="/book/JavaScript/04-datastruct-JavaScript-description.html#第14章-高级算法" class="sidebar-link">第14章-高级算法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/book/JavaScript/04-datastruct-JavaScript-description.html#动态规划" class="sidebar-link">动态规划</a></li><li class="sidebar-sub-header"><a href="/book/JavaScript/04-datastruct-JavaScript-description.html#贪心算法" class="sidebar-link">贪心算法</a></li></ul></li></ul></li><li><a href="/book/JavaScript/05-Eggjs-Practice.html" aria-current="page" class="active sidebar-link">《Node.js实战：使用Egg.js+Vue.js+Docker构建渐进式、可持续集成与交付应用》</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/book/JavaScript/05-Eggjs-Practice.html#第1章-node-js的优势" class="sidebar-link">第1章  Node.js的优势</a></li><li class="sidebar-sub-header"><a href="/book/JavaScript/05-Eggjs-Practice.html#第2章-egg-js框架核心原理与实现" class="sidebar-link">第2章  Egg.js框架核心原理与实现</a></li><li class="sidebar-sub-header"><a href="/book/JavaScript/05-Eggjs-Practice.html#第3章-构建后端api服务" class="sidebar-link">第3章  构建后端API服务</a></li><li class="sidebar-sub-header"><a href="/book/JavaScript/05-Eggjs-Practice.html#第4章-构建后台管理页面" class="sidebar-link">第4章  构建后台管理页面</a></li><li class="sidebar-sub-header"><a href="/book/JavaScript/05-Eggjs-Practice.html#第5章-前端界面设计与实现" class="sidebar-link">第5章  前端界面设计与实现</a></li><li class="sidebar-sub-header"><a href="/book/JavaScript/05-Eggjs-Practice.html#第6章-部署与运维" class="sidebar-link">第6章  部署与运维</a></li><li class="sidebar-sub-header"><a href="/book/JavaScript/05-Eggjs-Practice.html#第7章-性能分析与优化" class="sidebar-link">第7章  性能分析与优化</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Vue</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>React</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Angular</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>小程序</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Python</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Java</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>数据库</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>沟通</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="《node-js实战-使用egg-js-vue-js-docker构建渐进式、可持续集成与交付应用》"><a href="#《node-js实战-使用egg-js-vue-js-docker构建渐进式、可持续集成与交付应用》" class="header-anchor">#</a> 《Node.js实战：使用Egg.js+Vue.js+Docker构建渐进式、可持续集成与交付应用》</h1> <p>这本书给人的感觉是花里胡哨，用pug写HTML，用stylus和Sass交替使用，TS写Vue.js，Github和Gitlab混用，代码上没有多少耳目一新的东西，不过Docker部署讲的还差不多，算个入门。</p> <p>阅读时间：2020年6月13日</p> <p>用时：约3小时</p> <h2 id="第1章-node-js的优势"><a href="#第1章-node-js的优势" class="header-anchor">#</a> 第1章  Node.js的优势</h2> <p>CPU密集操作是Node.js的短板，它更擅长I/O密集操作。</p> <p>Egg.js框架中的Egg-Cluster模块利用多进程解决了Node.js只能利用单核的问题。</p> <h2 id="第2章-egg-js框架核心原理与实现"><a href="#第2章-egg-js框架核心原理与实现" class="header-anchor">#</a> 第2章  Egg.js框架核心原理与实现</h2> <p>事件模块是学习Node.js的基础，Node.js的不少模块都是基于事件模块构建的。</p> <p>Rx.js通过观察者模式实现异步，相当于Promise的增强版。</p> <p>学习Egg的相关知识：</p> <ul><li>egg-core的实现</li> <li>egg-init原理</li> <li>egg-cluster的实现</li> <li>创造Egg插件</li></ul> <h2 id="第3章-构建后端api服务"><a href="#第3章-构建后端api服务" class="header-anchor">#</a> 第3章  构建后端API服务</h2> <p>配置如何连接数据库，这里数据库使用的是关系数据库MySQL，因为我们要存储的数据基本都是有关系的，使用非关系数据库则不太合适。</p> <p>egg-sequelize进行数据库配置</p> <p>mocha测试覆盖率：<a href="https://istanbul.js.org/docs/tutorials/mocha/" target="_blank" rel="noopener noreferrer">链接<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>上传覆盖率：<a href="https://codecov.io/" target="_blank" rel="noopener noreferrer">codecov<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>关于Eslint：extends表示要继承的配置，eslint-config-egg是Egg官方提供的配置，plugins指定要添加的插件，rules则是指定验证规则。</p> <p>prettier与VSCode配合，可以实现保存代码文件立即格式化，但是保存后的格式同ESlint即Egg默认的规则有冲突，所以大家可以根据报错提示忽略一些错误。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>npm install eslint-plugin-prettier prettier --save-dev

&quot;files.autoSave&quot;: &quot;off&quot;,
&quot;eslint.autoFixOnSave&quot;: true
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>把一些常用的无依赖的函数封装到全局是可行的，比如说调试函数、帮助函数、以及无副作用的函数。但是把所有的依赖都加载到全局中就不是一个正确的做法。而且把大对象加入全局对象上会发生内存泄漏，需要谨慎而行。</p> <p>注释相关的文档：</p> <ul><li><a href="https://jsdoc.app/" target="_blank" rel="noopener noreferrer">JSDoc<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://esdoc.org/" target="_blank" rel="noopener noreferrer">ESDoc<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <p>加密密码更安全的方式是使用bcrypt算法：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>npm install bcrypt

use.password = await bcrypt.hash(user.password, 10)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>passport：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>npm install egg-passport egg-passport-local
npm install egg-jwt
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>passport中封装了登录的公用组件，而passport-local则是本地登录的逻辑。在开发的时候往passport-local里传入一个用于验证用户名与密码的回调，passport会帮我们从ctx上获取用户名与密码，传入我们在passport-local的回调中，供我们验证。</p> <p>公司可以使用企业邮箱，这类服务也比较多，比如阿里云邮、Sendcloud等，基本每个月都有几百条的免费额度。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>enpm install egg-mail
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>使用debugger，需要设置eslint的no-debugger为off。</p> <p>因为在后台可以对所有的模型都有修改权限，并且没有什么限制，所以我们要保护API。比如用basic-auth</p> <p>OAuth2.0本质上来说就是两台服务器之间通过HTTP相互交换数据而已。</p> <p>egg-oauth2-server是对node-outh2-server的一个封装，node-oauth2-server中定义好了如何实现上面所述的授权码模式的授权，只需要我们实现对应的接口即可。</p> <p>支付宝：对开发者来说，有沙箱环境可供我们进行正常的开发。<a href="https://openhome.alipay.com/platform/home.htm" target="_blank" rel="noopener noreferrer">开发者登录<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>alipy-node-sdk</p> <p>内网穿透：<a href="https://ngrok.com/" target="_blank" rel="noopener noreferrer">ngrok<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>egg-passport-github</p> <h2 id="第4章-构建后台管理页面"><a href="#第4章-构建后台管理页面" class="header-anchor">#</a> 第4章  构建后台管理页面</h2> <p>Vue的VS Code插件：Vetur</p> <p>跨域支持：egg-cors</p> <p>lodash debounce：<code>fn = debounce(innerFn, 300)</code> 是函数去抖动，就是让innerFn函数永远延迟300毫秒执行，当300毫秒内多次执行fn时，会从最后一次执行fn的时间开始计时，超过300毫秒就会真正执行innerFn。这样的好处就是当innerFn函数被频繁触发的时候，只有最后一次调用超过300毫秒之后才真正执行，这样可以提高效率。</p> <h2 id="第5章-前端界面设计与实现"><a href="#第5章-前端界面设计与实现" class="header-anchor">#</a> 第5章  前端界面设计与实现</h2> <p><a href="https://bulma.io/" target="_blank" rel="noopener noreferrer">bluma<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>是SASS写的一个CSS库。</p> <p>懒加载图片：vue-lazyload，动画显示：aos</p> <p>页面滚动：</p> <p>最开始笔者通过监听滚动来实现下拉时间，但是在使用滚动时，为了实现更好的效果，可能要使用函数去抖动拦截一下频繁触发的函数，而且还要兼容移动端，因为移动端的footer高度会变得更高，这就比较麻烦。可以使用IntersectionObserver来控制获取数据，逻辑的意思就是当footer进入可视区的时候加载数据。intersectionRatio表示进入可视区的百分比。</p> <p>监听滚动要销毁。</p> <p>localfrage是浏览器存储的一个封装库，提供了Promise风格的接口，支持WeBSQL、IndexDB、LocalStorage等。我们使用LocalStorage持久存储用户的Token。</p> <p>file对象不能直接显示，通过URL.createObjectURL方法可以创建一个本地的临时地址来显示。所以通过images get进行转换后才能正常显示。</p> <h2 id="第6章-部署与运维"><a href="#第6章-部署与运维" class="header-anchor">#</a> 第6章  部署与运维</h2> <p>Docker可以让你写一份Dockerfile文件，运行在任何地方。</p> <p>开发完成后通过docker commit命令将容器制作成镜像，然后上传到自己的私有仓库中，在线上服务器拉取这个镜像运行即可。</p> <p>docker-compose.yml配置可以同时启动多个容器，并定义它们之间的存储和网络关系，然后让这些容器提供服务。</p> <p>安装：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>curl -ssl https://get.daocloud.io/docker | sh
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>通过docker pull 可以下载镜像，所有镜像都可以到hub.docker.com中找到，并且会有README.md告诉如何使用该镜像。</p> <p>通过docker ps -a查看所有容器，不加a参数会隐藏停止的容器。</p> <p>通过docker commit 将安装了VIM的CentOS容器制作为自己的镜像。</p> <p>随便创建一个项目，使用shipit的deploy模块部署，其实是使用git进行部署的。</p> <p>shipit提供了copyToRemote方法，这样其实可以将文件从本地复制到部署服务器上。</p> <p>Ansible是专业的运维工具。</p> <h2 id="第7章-性能分析与优化"><a href="#第7章-性能分析与优化" class="header-anchor">#</a> 第7章  性能分析与优化</h2> <p>服务器性能测试：egg-alinode</p> <p><a href="https://www.aliyun.com/product/nodejs" target="_blank" rel="noopener noreferrer">Node.js性能平台<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>Python工具<a href="https://locust.io/" target="_blank" rel="noopener noreferrer">locust.io<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>超过8s留存率会变成40%，会让人感觉很慢，所以当用户数和用户产生的请求数同实际网站的运行情况差不多得时候，就需要搭建负载均衡来提高响应时间了。</p> <p>百度分析：<a href="https://tongji.baidu.com/web/welcome/login" target="_blank" rel="noopener noreferrer">百度统计<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>_hmt是之前我们添加的JS代码得到的变量，_trackEvent代表追踪时间。</p> <p>对于单页App，由于_hmt只会在进入的时候执行一次，所以只会记录一次。为了解决这种问题，我们可以为每一个路由添加一个这样的钩子：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>router.afterEach((to, from) =&gt; {
	_hmt.push(['_trackPageview', to.fullPath]);
})
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>lighthouse性能优化</p> <p>sonarwhal检查错误</p> <p>hotjar用户反馈</p> <p>IM通信：</p> <ul><li><a href="https://www.daovoice.io/" target="_blank" rel="noopener noreferrer">Daovoice<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://www.intercom.com/" target="_blank" rel="noopener noreferrer">intercom<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://www.udesk.cn/" target="_blank" rel="noopener noreferrer">udesk<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://www.xiaoduoai.com/" target="_blank" rel="noopener noreferrer">xiaoduoai<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="http://www.easemob.com/" target="_blank" rel="noopener noreferrer">环信<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">更新时间:</span> <span class="time">12/15/2021, 3:52:44 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/book/JavaScript/04-datastruct-JavaScript-description.html" class="prev">
        《数据结构与算法JavaScript描述》
      </a></span> <span class="next"><a href="/book/Vue/01-vue-up-and-running.html">
        《Vue.js快跑》
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.5be59e6d.js" defer></script><script src="/assets/js/2.9b8ab7f9.js" defer></script><script src="/assets/js/37.ffbfd887.js" defer></script>
  </body>
</html>
